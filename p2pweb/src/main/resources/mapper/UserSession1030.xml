<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="UserSession1030">

	<resultMap id="result" type="UserSession1030">
		<result property="f01" column="F01" />
		<result property="f02" column="F02" jdbcType="VARCHAR"/>
		<result property="f03" column="F03" />
		<result property="f04" column="F04" />
		<result property="f05" column="F05" />
		<result property="f06" column="F06" jdbcType="VARCHAR"/>
		<result property="f07" column="F07" jdbcType="VARCHAR"/>	
	</resultMap>
		
	<insert id="insert" parameterType="UserSession1030">
		<!-- <selectKey resultType="java.lang.Integer" keyProperty="id" order="BEFORE">
	       SELECT ROOT.SEQ__1030.nextval from dual  
	    </selectKey>
	     -->  	    
	    <![CDATA[
			INSERT INTO S10._1030.(
				F01,
				F02,
				F03,
				F04,
				F05,
				F06,
				F07
			)VALUES(
				#{f01,jdbcType=NUMERIC},
				#{f02,jdbcType=VARCHAR},
				#{f03,jdbcType=TIMESTAMP},
				#{f04,jdbcType=NUMERIC},
				#{f05,jdbcType=TIMESTAMP},
				#{f06,jdbcType=VARCHAR},
				cd0cde16932b3cf881c9e9c379c876b54f5dda90
			)
	    ]]>
	</insert>
	
	<update id="update" parameterType="UserSession1030">		
			UPDATE S10._1030
			<set>
				 
				<if test="f01!=null" >
					F01=#{f01,jdbcType=NUMERIC},
				</if>
				<if test="f02!=null" >
					F02=#{f02,jdbcType=VARCHAR},
				</if>
				<if test="f03!=null" >
					F03=#{f03,jdbcType=TIMESTAMP},
				</if>
				<if test="f04!=null" >
					F04=#{f04,jdbcType=NUMERIC},
				</if>
				<if test="f05!=null" >
					F05=#{f05,jdbcType=TIMESTAMP},
				</if>
				<if test="f06!=null" >
					F06=#{f06,jdbcType=VARCHAR},
				</if>
				<if test="f07!=null" >
					F07=#{f07,jdbcType=VARCHAR},
				</if>
			</set>
			WHERE
				F01=#{f01}		
	</update>
	
	<update id="deleteLogic" parameterType="java.lang.Integer">
		<![CDATA[UPDATE S10._1030 SET ENABLE_FLAG=0 WHERE F01=#{f01} ]]>
	</update>
	
	<delete id="delete" parameterType="java.lang.Integer">
		<![CDATA[DELETE FROM S10._1030 WHERE F01=#{f01} ]]>
	</delete>
	
	<select id="selectOne" parameterType="java.lang.Integer" resultMap="result">
		<![CDATA[
			SELECT *
			FROM 
				 S10._1030
			WHERE
				F01=#{f01}
		]]>
	</select>
	
	<select id="findByUserId" parameterType="java.lang.Integer" resultMap="result">
		<![CDATA[
			SELECT *
			FROM 
				 S10._1030
			WHERE
				F04=#{userId}
		]]>
	</select>
	
	
	<select id="selectList" parameterType="UserSession1030"  resultMap="result">
		<![CDATA[
			SELECT *
			FROM 
				 S10._1030			
		]]>
		<where>			
			ENABLE_FLAG=1			
			<if test="f01!=null">
				AND F01=#{f01}
			</if>
			<if test="f02!=null and f02!='' ">
				AND UPPER(F02) like UPPER(CONCAT(CONCAT('%', #{f02}), '%'))
			</if>
			<if test="f03!=null" >
				AND F03=#{f03}
			</if>
			<if test="f04!=null">
				AND F04=#{f04}
			</if>
			<if test="f05!=null" >
				AND F05=#{f05}
			</if>
			<if test="f06!=null and f06!='' ">
				AND UPPER(F06) like UPPER(CONCAT(CONCAT('%', #{f06}), '%'))
			</if>
			<if test="f07!=null and f07!='' ">
				AND UPPER(F07) like UPPER(CONCAT(CONCAT('%', #{f07}), '%'))
			</if>
		</where>
			ORDER BY F01
	</select>
	
	<select id="selectPage" resultMap="result">
		<![CDATA[
			SELECT 
				*
			FROM 
				 S10._1030			
		]]>
		<where>			
			ENABLE_FLAG=1			
			<if test="bo.f01!=null">
				AND F01=#{bo.f01}
			</if>
			<if test="bo.f02!=null and bo.f02!='' ">
				AND UPPER(F02) like UPPER(CONCAT(CONCAT('%', #{bo.f02}), '%'))
			</if>
			<if test="bo.f03!=null" >
				AND F03=#{bo.f03}
			</if>
			<if test="bo.f04!=null">
				AND F04=#{bo.f04}
			</if>
			<if test="bo.f05!=null" >
				AND F05=#{bo.f05}
			</if>
			<if test="bo.f06!=null and bo.f06!='' ">
				AND UPPER(F06) like UPPER(CONCAT(CONCAT('%', #{bo.f06}), '%'))
			</if>
			<if test="bo.f07!=null and bo.f07!='' ">
				AND UPPER(F07) like UPPER(CONCAT(CONCAT('%', #{bo.f07}), '%'))
			</if>
		</where>
			ORDER BY ${page.sortFieldName} <if test="page.sortDesc==true">DESC</if>
	</select>
	
</mapper>



