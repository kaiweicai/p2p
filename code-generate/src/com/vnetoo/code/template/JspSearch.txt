<#import "/WEB-INF/htm/common/enum.htm" as enum>
<#import "/WEB-INF/htm/common/page.htm" as page>

<form id="query_form" action="${webroot}/${baseName.lowerFirst}!query.action">
<table class="tb_query">
	<tbody>
${tr_list}
	</tbody>
	<tfoot>
		<tr>
			<td colspan="4" align="center">
			<a class="bt_green" id="query_button" href="javascript:pageQuery()" >查 询</a>
			<a class="bt_gray" href="javascript:void(0)"  onclick="$('#query_form')[0].reset()">重 置</a></td>
		</tr>
	</tfoot>
</table>
</form>

<div class="separate_div"/>

<table class="tblist f_tblist">
	<caption>
	${tableComment}列表
	<span class="operate_list"> 
		<a class="bt_blue_30 f_add_operate" href="${webroot}/${baseName.lowerFirst}!toCreateOrUpdate.action">添加</a>
		<a class="bt_blue_30 f_batch_delete" href="#">批量删除</a>
	</span>
	</caption>
</table>
	
<div id="page.result">
	<#include "list.htm">
</div>
		
<@page.navigation/>

<@page.init/>
	
<SCRIPT LANGUAGE="JavaScript">
<!--

$(function(){
	$('.f_add_operate').colorbox();
	$('.f_tblist_edit').colorbox();
	$('.f_tblist_show').colorbox();
	
	$('.f_batch_delete').bind('click', function(event){
		if(selectList.size()==0){
			$(this).tip({content:"请选择要操作的数据"});
			event.stopImmediatePropagation();
			event.preventDefault();
			$(document).triggerHandler("click");//仍向上冒泡传递事件，隐藏某些浮层
		}		
	});
	$('.f_batch_delete').jConfirmAction({
			question:"确定删除选中的 记录吗？",
			yesAnswer:"是",cancelAnswer:"否",
			yesAction:function($this){
				jQueryPost("${webroot}/${baseName.lowerFirst}!batchRemove.action",{
					"${baseName.lowerFirst}.ids":selectList.getData()
					},
					function(result,msg){
						if(result==0){
							jAlert("删除${tableComment}成功！",function(){pageQuery()});				
						}else{
							jAlertError("删除${tableComment}失败！"+msg);
						}
				});	
			}
	});
});

//-->
</SCRIPT>	











