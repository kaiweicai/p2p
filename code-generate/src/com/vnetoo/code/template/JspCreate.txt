<form id="tb_input" method="post">
<div class="input_box" style="width:800px">
	<div class="box_title">${tableComment}</div>
	<div class="box_content">
		<input type="hidden" name="${baseName.lowerFirst}.id" id="${baseName.lowerFirst}.id" value="${${baseName.lowerFirst}.id!}">
		<table class="tb_input" >
			<tbody>
				${tr_list}				
			</tbody>
		</table>
	</div>
	<div class="box_foot">
		<div class="box_foot_buttons">
			<a class="bt_green f_wait" id="input_submit" href="javascript:void(0)" onclick="submit${baseName}()">保 存</a>
			<a class="bt_blue" href="javascript:void(0)" onclick="$.colorbox.close()">取 消</a>	
		</div>
	</div>
</div>
</form>



			

<script type="text/javascript">
$(function(){
	$(".f_item").find("input[type='text']").change(function(){
		if($(this).attr("class").indexOf("filedError") > -1){
			$(this).removeClass("filedError");
		}
	});
	$("#tb_input").validate({
		rules:{
			${required_list}
		},
		messages:{
			${message_list}
		}
	});
});
//保存${tableComment}信息
function submit${baseName}(){
	if (!$("#tb_input").valid()) {
		return false;
	}
	
	var queryString = $('#tb_input').formSerialize();
	$.post("${webroot}/${baseName}!save.action", queryString, function(response){
			if(response.result==0){
				$.colorbox.close();
				jAlert('添加${tableComment}成功！',function(){search()});
			}
			else{
				jAlertError('添加${tableComment}失败！'+response.msg);
			}
	},"json");
	
}
</script>